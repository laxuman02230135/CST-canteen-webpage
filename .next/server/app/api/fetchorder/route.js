"use strict";(()=>{var e={};e.id=487,e.ids=[487],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2577:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>c});var a={};r.r(a),r.d(a,{GET:()=>p});var o=r(9303),n=r(8716),i=r(670),s=r(5995);async function p(e){try{let e=(await s.Z.order.findMany({include:{items:!0},orderBy:{createdAt:"desc"}})).map(e=>({...e,total:`Nu. ${e.total}`,items:e.items.map(e=>({...e,title:e.title||"Unknown Item",price:`Nu. ${parseFloat(e.price?.replace(/[^0-9.]/g,"")||0)}`}))}));return new Response(JSON.stringify(e),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Fetch error:",e),new Response(JSON.stringify({error:"Failed to fetch orders"}),{status:500,headers:{"Content-Type":"application/json"}})}}let u=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/fetchorder/route",pathname:"/api/fetchorder",filename:"route",bundlePath:"app/api/fetchorder/route"},resolvedPagePath:"D:\\CST-canteen-webpage\\app\\api\\fetchorder\\route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:l}=u,h="/api/fetchorder/route";function m(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:c})}},5995:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(3524);let o=globalThis.prisma??new a.PrismaClient},9303:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948],()=>r(2577));module.exports=a})();