(()=>{var e={};e.id=966,e.ids=[966],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},3512:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(4684),r(7764),r(5866);var s=r(3191),n=r(8716),a=r(7922),i=r.n(a),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4684)),"D:\\CST-canteen-webpage\\app\\signup\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,7764)),"D:\\CST-canteen-webpage\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\CST-canteen-webpage\\app\\signup\\page.js"],u="/signup/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2459:()=>{},570:(e,t,r)=>{Promise.resolve().then(r.bind(r,3337))},2557:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},3337:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(326),n=r(7577),a=r(5047),i=r(6670),o=r.n(i),l=r(434),d=r(8129),c=r(1329);function u(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:""}),[i,u]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:""}),[m,p]=(0,n.useState)(""),[f,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(!1),w=e=>{let{name:s,value:n}=e.target;r({...t,[s]:n}),u({...i,[s]:""}),p(""),g(!1)},b=()=>{let e=!0,r={name:"",email:"",password:"",confirmPassword:""};return t.name||(r.name="Name is required",e=!1),t.email?/\S+@\S+\.\S+/.test(t.email)||(r.email="Invalid email format",e=!1):(r.email="Email is required",e=!1),t.password?t.password.length<6&&(r.password="Password must be at least 6 characters",e=!1):(r.password="Password is required",e=!1),t.confirmPassword?t.password!==t.confirmPassword&&(r.confirmPassword="Passwords do not match",e=!1):(r.confirmPassword="Please confirm your password",e=!1),u(r),e},j=async s=>{if(s.preventDefault(),b()){h(!0),p(""),g(!1);try{let s=await fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,password:t.password})}),n=await s.json();s.ok?(g(!0),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{e.push("/login")},1e3)):p(n.message||"Something went wrong")}catch(e){console.error("Signup failed:",e),p("Something went wrong. Please try again later.")}finally{h(!1)}}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o(),{children:[s.jsx("title",{children:"Signup | CST Canteen"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"}),s.jsx("script",{src:"https://cdn.tailwindcss.com"})]}),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("img",{src:"https://st4.depositphotos.com/16061158/39264/v/450/depositphotos_392644810-stock-illustration-food-vector-icon-food-editable.jpg",alt:"Canteen Logo",className:"h-16 w-16"})}),s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Sign Up for CST Canteen"}),s.jsx(d.M,{children:x&&s.jsx(c.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.4},className:"text-green-600 font-semibold mb-4 text-center",children:"Registration successful!"})}),m&&s.jsx("p",{className:"text-red-500 text-center mb-4",children:m}),(0,s.jsxs)("form",{onSubmit:j,children:[(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"name",children:"Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:w,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.name?"border-red-500":"focus:ring-green-500"}`,placeholder:"Enter your name","aria-describedby":i.name?"name-error":void 0}),i.name&&s.jsx("p",{id:"name-error",className:"text-red-500 text-sm mt-1",children:i.name})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"email",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:w,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.email?"border-red-500":"focus:ring-green-500"}`,placeholder:"Enter your email","aria-describedby":i.email?"email-error":void 0}),i.email&&s.jsx("p",{id:"email-error",className:"text-red-500 text-sm mt-1",children:i.email})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"password",children:"Password"}),s.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:w,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.password?"border-red-500":"focus:ring-green-500"}`,placeholder:"Enter your password","aria-describedby":i.password?"password-error":void 0}),i.password&&s.jsx("p",{id:"password-error",className:"text-red-500 text-sm mt-1",children:i.password})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:w,className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.confirmPassword?"border-red-500":"focus:ring-green-500"}`,placeholder:"Confirm your password","aria-describedby":i.confirmPassword?"confirmPassword-error":void 0}),i.confirmPassword&&s.jsx("p",{id:"confirmPassword-error",className:"text-red-500 text-sm mt-1",children:i.confirmPassword})]}),s.jsx("button",{type:"submit",className:"w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition duration-300 flex justify-center items-center",disabled:f,children:f?s.jsx("span",{className:"w-5 h-5 border-4 border-white border-t-transparent rounded-full animate-spin","aria-label":"Loading spinner"}):"Sign Up"})]}),(0,s.jsxs)("p",{className:"mt-4 text-center text-gray-600",children:["Already have an account?"," ",s.jsx(l.default,{href:"/login",className:"text-blue-500 hover:underline",children:"Login"})]})]})})]})}},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},6670:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7764:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>n});var s=r(9510);r(7272);let n={title:"CST Canteen",description:"Order food online at CST Canteen"};function a({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[s.jsx("head",{children:s.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"})}),s.jsx("body",{children:e})]})}},4684:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`D:\CST-canteen-webpage\app\signup\page.js#default`)},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(6621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{},8129:(e,t,r)=>{"use strict";r.d(t,{M:()=>w});var s=r(326),n=r(7577),a=r(339),i=r(4749),o=r(2482),l=r(295),d=r(9539),c=r(3965);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,d.R)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:t,anchorX:r}){let a=(0,n.useId)(),i=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,n.useContext)(c._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:d,right:c}=o.current;if(t||!i.current||!e||!s)return;let u="left"===r?`left: ${d}`:`right: ${c}`;i.current.dataset.motionPopId=a;let m=document.createElement("style");return l&&(m.nonce=l),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${u}px !important;
            top: ${n}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),(0,s.jsx)(u,{isPresent:t,childRef:i,sizeRef:o,children:n.cloneElement(e,{ref:i})})}let p=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:o,presenceAffectsLayout:d,mode:c,anchorX:u})=>{let p=(0,i.h)(f),h=(0,n.useId)(),x=!0,g=(0,n.useMemo)(()=>(x=!1,{id:h,initial:t,isPresent:r,custom:o,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;a&&a()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[r,p,a]);return d&&x&&(g={...g}),(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),n.useEffect(()=>{r||p.size||!a||a()},[r]),"popLayout"===c&&(e=(0,s.jsx)(m,{isPresent:r,anchorX:u,children:e})),(0,s.jsx)(l.O.Provider,{value:g,children:e})};function f(){return new Map}var h=r(6933);let x=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let w=({children:e,custom:t,initial:r=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:c="sync",propagate:u=!1,anchorX:m="left"})=>{let[f,w]=(0,h.oO)(u),b=(0,n.useMemo)(()=>g(e),[e]),j=u&&!f?[]:b.map(x),y=(0,n.useRef)(!0),v=(0,n.useRef)(b),P=(0,i.h)(()=>new Map),[C,N]=(0,n.useState)(b),[S,_]=(0,n.useState)(b);(0,o.L)(()=>{y.current=!1,v.current=b;for(let e=0;e<S.length;e++){let t=x(S[e]);j.includes(t)?P.delete(t):!0!==P.get(t)&&P.set(t,!1)}},[S,j.length,j.join("-")]);let E=[];if(b!==C){let e=[...b];for(let t=0;t<S.length;t++){let r=S[t],s=x(r);j.includes(s)||(e.splice(t,0,r),E.push(r))}return"wait"===c&&E.length&&(e=E),_(g(e)),N(b),null}let{forceRender:R}=(0,n.useContext)(a.p);return(0,s.jsx)(s.Fragment,{children:S.map(e=>{let n=x(e),a=(!u||!!f)&&(b===S||j.includes(n));return(0,s.jsx)(p,{isPresent:a,initial:(!y.current||!!r)&&void 0,custom:t,presenceAffectsLayout:d,mode:c,onExitComplete:a?void 0:()=>{if(!P.has(n))return;P.set(n,!0);let e=!0;P.forEach(t=>{t||(e=!1)}),e&&(R?.(),_(v.current),u&&w?.(),l&&l())},anchorX:m,children:e},n)})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,471,621,434,329],()=>r(3512));module.exports=s})();