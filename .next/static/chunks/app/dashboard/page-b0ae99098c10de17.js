(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6876:function(e,s,t){Promise.resolve().then(t.bind(t,6067))},6067:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(7437),l=t(2265),i=t(9376),r=t(7648),n=t(8614),c=t(4368);function o(){let[e,s]=(0,l.useState)([]),[t,o]=(0,l.useState)(!1),[d,h]=(0,l.useState)(!1),[m,u]=(0,l.useState)(0),x=[{title:"Welcome to CST Canteen",description:"Order your favorite meals with just a few clicks",subDescription:"Fast, convenient, and delicious",image:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",buttonText:"Order Now",buttonLink:"/menu"},{title:"Fresh & Healthy",description:"Enjoy our daily specials made with fresh ingredients",subDescription:"Quality food for quality education",image:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",buttonText:"View Menu",buttonLink:"/menu"},{title:"Quick & Easy",description:"Order online and pick up at your convenience",subDescription:"No more waiting in long queues",image:"https://images.unsplash.com/photo-1498837167922-ddd27525d352?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",buttonText:"Get Started",buttonLink:"/menu"}];(0,l.useEffect)(()=>{let e=setInterval(()=>{u(e=>(e+1)%x.length)},5e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{s((JSON.parse(localStorage.getItem("orderItems"))||[]).map((e,s)=>({id:s,name:e.title,price:parseInt(String(e.price).replace(/\D/g,""))||0,image:e.image,quantity:1,description:e.description})))},[t]);let f=t=>{let a=e.filter(e=>e.id!==t);s(a),localStorage.setItem("orderItems",JSON.stringify(a))},p=e.reduce((e,s)=>e+s.price*s.quantity,0),j=(0,i.useRouter)(),[g,b]=(0,l.useState)(!1),[N,v]=(0,l.useState)(""),[y,w]=(0,l.useState)(!1),[k,C]=(0,l.useState)({name:"",email:"",phone:"",department:"",profileImage:"",bio:""}),[S,I]=(0,l.useState)(!1),[P,E]=(0,l.useState)(null),[D,R]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("username"),s=localStorage.getItem("email"),t=localStorage.getItem("userProfile");e?(b(!0),v(e),t?C(JSON.parse(t)):C(t=>({...t,name:e,email:s||""}))):j.push("/login")},[j]);let O=async e=>{e.preventDefault(),R(!0);try{localStorage.setItem("userProfile",JSON.stringify(k)),I(!1),w(!1),alert("Profile updated successfully!")}catch(e){console.error("Error updating profile:",e),alert("Failed to update profile. Please try again.")}finally{R(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsxs)("nav",{className:"navbar bg-gray-800 text-white flex items-center justify-between px-6 py-4 relative z-50",children:[(0,a.jsxs)("div",{className:"logo flex items-center space-x-2",children:[(0,a.jsx)("img",{src:"https://st4.depositphotos.com/16061158/39264/v/450/depositphotos_392644810-stock-illustration-food-vector-icon-food-editable.jpg",alt:"Canteen Logo",className:"h-10 w-10 rounded-full"}),(0,a.jsx)("span",{className:"font-bold text-lg",children:"CST Canteen"})]}),(0,a.jsxs)("ul",{className:"nav-links flex space-x-6",children:[(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/dashboard",className:"hover:text-blue-400 transition",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/about",className:"hover:text-blue-400 transition",children:"About"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/menu",className:"hover:text-blue-400 transition",children:"Menu"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/contact",className:"hover:text-blue-400 transition",children:"Contact"})}),(0,a.jsx)("li",{children:(0,a.jsx)(r.default,{href:"/faq",className:"hover:text-blue-400 transition",children:"FAQ"})})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:g?(0,a.jsx)("div",{className:"relative group",children:(0,a.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 hover:opacity-80 transition",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white",children:k.profileImage?(0,a.jsx)("img",{src:k.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-user text-white text-xl"})})}),(0,a.jsx)("span",{className:"text-white",children:N})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{href:"/login",children:(0,a.jsx)("button",{className:"bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600 transition",children:"Login"})}),(0,a.jsx)(r.default,{href:"/signup",children:(0,a.jsx)("button",{className:"bg-green-500 text-white px-4 py-1 rounded hover:bg-green-600 transition",children:"Signup"})})]})})]}),y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"Profile"}),(0,a.jsx)("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)("i",{className:"fas fa-times text-xl"})})]}),S?(0,a.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{type:"text",value:k.name,onChange:e=>C({...k,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{type:"email",value:k.email,onChange:e=>C({...k,email:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,a.jsx)("input",{type:"text",value:k.department,onChange:e=>C({...k,department:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:k.phone,onChange:e=>C({...k,phone:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Profile Image"}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:P||k.profileImage?(0,a.jsx)("img",{src:P||k.profileImage,alt:"Profile Preview",className:"w-full h-full object-cover"}):(0,a.jsx)("i",{className:"fas fa-user text-2xl text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let s=e.target.files[0];if(s){let e=new FileReader;e.onloadend=()=>{E(e.result),C(s=>({...s,profileImage:e.result}))},e.readAsDataURL(s)}},className:"hidden",id:"profile-image-upload"}),(0,a.jsx)("label",{htmlFor:"profile-image-upload",className:"cursor-pointer bg-gray-100 px-4 py-2 rounded-md text-sm text-gray-700 hover:bg-gray-200 transition",children:"Choose Image"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,a.jsx)("textarea",{value:k.bio,onChange:e=>C({...k,bio:e.target.value}),rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{I(!1),E(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:D,children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50",disabled:D,children:D?"Saving...":"Save Changes"})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:k.profileImage?(0,a.jsx)("img",{src:k.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)("i",{className:"fas fa-user text-4xl text-gray-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:k.name}),(0,a.jsx)("p",{className:"text-gray-600",children:k.email})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,a.jsx)("p",{className:"mt-1",children:k.department||"Not set"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,a.jsx)("p",{className:"mt-1",children:k.phone||"Not set"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,a.jsx)("p",{className:"mt-1",children:k.bio||"No bio added yet"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,a.jsx)("button",{onClick:()=>I(!0),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition",children:"Edit Profile"}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("userProfile"),b(!1),v(""),j.push("/")},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition",children:"Logout"})]})]})]})}),(0,a.jsxs)("section",{className:"hero-container relative h-screen overflow-hidden",children:[(0,a.jsx)(n.M,{mode:"wait",children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:"absolute inset-0 flex items-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 z-10"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(".concat(x[m].image,")")}}),(0,a.jsx)("div",{className:"container mx-auto px-4 relative z-20",children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-2xl text-white",children:[(0,a.jsx)("h1",{className:"text-5xl font-bold mb-4",children:x[m].title}),(0,a.jsx)("p",{className:"text-xl mb-2",children:x[m].description}),(0,a.jsx)("p",{className:"text-lg mb-8",children:x[m].subDescription}),(0,a.jsx)(c.E.a,{href:x[m].buttonLink,className:"btn inline-block bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition",whileHover:{scale:1.05},whileTap:{scale:.95},children:x[m].buttonText})]})})]},m)}),(0,a.jsx)("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 flex space-x-2",children:x.map((e,s)=>(0,a.jsx)(c.E.button,{className:"w-3 h-3 rounded-full ".concat(m===s?"bg-white":"bg-white/50"),onClick:()=>u(s),whileHover:{scale:1.2},whileTap:{scale:.9}},s))})]}),(0,a.jsxs)("section",{className:"categories",children:[(0,a.jsx)("h2",{className:"section-title",children:"POPULAR MEALS"}),(0,a.jsx)("p",{className:"section-subtitle",children:"Most Ordered Dishes This Week"}),(0,a.jsxs)("div",{className:"category-grid",children:[(0,a.jsx)("div",{className:"category-card",children:(0,a.jsx)("img",{src:"https://bhutan-kitchen.com/wp-content/uploads/2024/08/Kewa-Datshi-menu-item-Bhutan-Kitchen-400x.png",alt:"Kewa Datsi"})}),(0,a.jsx)("div",{className:"category-card",children:(0,a.jsx)("img",{src:"https://br10.in/wp-content/uploads/2024/08/chowmin.png",alt:"Chowmein"})}),(0,a.jsx)("div",{className:"category-card",children:(0,a.jsx)("img",{src:"https://feastwithsafiya.com/wp-content/uploads/2022/03/chicken-curry-recipe.jpg",alt:"Jasha Maru"})})]})]}),(0,a.jsx)("section",{className:"testimonials",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h2",{className:"section-title",children:"What Our Users Say"}),(0,a.jsx)("div",{className:"testimonial-container",children:[{img:"/Images/photo_2025-03-18_23-47-43.jpg",name:"Tashi Gyeltshen",dept:"Software Engineering Department",text:"The Easy Food System is a game-changer! ..."},{img:"/Images/photo_2025-03-18_23-47-56.jpg",name:"Chimi Gyeltshen",dept:"Information Technology Department",text:"As a busy professor, I appreciate ..."},{img:"/Images/photo_2025-03-18_23-47-32.jpg",name:"Sonam Choejur",dept:"Information Technology Department",text:"I love that I can customize my orders ..."}].map((e,s)=>(0,a.jsxs)("div",{className:"testimonial",children:[(0,a.jsx)("p",{className:"testimonial-text",children:e.text}),(0,a.jsxs)("div",{className:"testimonial-author",children:[(0,a.jsx)("div",{className:"author-image",children:(0,a.jsx)("img",{src:e.img,alt:e.name})}),(0,a.jsxs)("div",{className:"author-info",children:[(0,a.jsx)("h4",{children:e.name}),(0,a.jsx)("p",{children:e.dept})]})]})]},s))}),(0,a.jsx)("div",{className:"cta",children:(0,a.jsx)("a",{href:"#",className:"cta-btn",children:"Download App Now"})})]})}),(0,a.jsxs)("div",{className:"cart-toggle",onClick:()=>o(!0),children:[(0,a.jsx)("i",{className:"fas fa-shopping-cart"}),(0,a.jsx)("span",{className:"cart-count",children:e.length})]}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"cart-overlay active",children:[(0,a.jsxs)("div",{className:"cart-header",children:[(0,a.jsx)("h3",{children:"Your Orders"}),(0,a.jsx)("div",{className:"cart-close",onClick:()=>o(!1),children:(0,a.jsx)("i",{className:"fas fa-times"})})]}),(0,a.jsx)("div",{className:"cart-items",children:e.map(e=>(0,a.jsxs)("div",{className:"cart-item",children:[(0,a.jsxs)("div",{className:"cart-item-details",children:[(0,a.jsx)("img",{src:e.image,alt:e.name}),(0,a.jsxs)("div",{className:"cart-item-info",children:[(0,a.jsx)("h4",{children:e.name}),(0,a.jsx)("p",{className:"cart-item-desc",children:e.description}),(0,a.jsxs)("div",{className:"cart-item-price",children:["Nu.",e.price," x ",e.quantity]})]})]}),(0,a.jsx)("button",{onClick:()=>f(e.id),children:"Remove"})]},e.id))}),(0,a.jsxs)("div",{className:"cart-total",children:[(0,a.jsxs)("div",{className:"total-amount",children:["Total: Nu.",(0,a.jsx)("span",{children:p})]}),(0,a.jsx)("a",{href:"#",className:"checkout-btn",children:"Checkout Now"})]})]}),(0,a.jsx)("div",{className:"overlay",onClick:()=>o(!1)})]}),(0,a.jsxs)("div",{className:"footer",children:[(0,a.jsx)("div",{className:"footer-container",children:(0,a.jsxs)("div",{className:"footer-content",children:[(0,a.jsxs)("div",{className:"footer-column",children:[(0,a.jsx)("h3",{children:"Menu"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Breakfast"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Lunch"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Dinner"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Snacks"})})]})]}),(0,a.jsxs)("div",{className:"footer-column",children:[(0,a.jsx)("h3",{children:"Categories"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Bhutanese"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Fast Food"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Beverages"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Weekly Specials"})})]})]}),(0,a.jsxs)("div",{className:"footer-column",children:[(0,a.jsx)("h3",{children:"Information"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"About Us"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Contact Us"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Payment Options"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Track Order"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Support"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Meal Plans"})}),(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:"Nutritional Info"})})]})]}),(0,a.jsxs)("div",{className:"footer-column",children:[(0,a.jsx)("h3",{children:"Follow us"}),(0,a.jsxs)("div",{className:"social-icons",children:[(0,a.jsx)("a",{href:"#",className:"social-icon",children:(0,a.jsx)("i",{className:"fab fa-instagram"})}),(0,a.jsx)("a",{href:"#",className:"social-icon",children:(0,a.jsx)("i",{className:"fab fa-facebook-f"})}),(0,a.jsx)("a",{href:"#",className:"social-icon",children:(0,a.jsx)("i",{className:"fab fa-youtube"})})]})]})]})}),(0,a.jsx)("div",{className:"footer-bottom",children:(0,a.jsxs)("div",{className:"footer-bottom-links",children:[(0,a.jsx)("a",{href:"#",children:"Data settings"}),(0,a.jsx)("a",{href:"#",children:"Cookie settings"}),(0,a.jsx)("a",{href:"#",children:"Privacy Policy"}),(0,a.jsx)("a",{href:"#",children:"Terms And Conditions"}),(0,a.jsx)("a",{href:"#",children:"Imprint"})]})})]})]})}},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},8614:function(e,s,t){"use strict";t.d(s,{M:function(){return g}});var a=t(7437),l=t(2265),i=t(8881),r=t(3576),n=t(1534),c=t(4252),o=t(3537),d=t(5750);class h extends l.Component{getSnapshotBeforeUpdate(e){let s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){let e=s.offsetParent,t=(0,o.R)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=t-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:s,isPresent:t,anchorX:i}=e,r=(0,l.useId)(),n=(0,l.useRef)(null),c=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,l.useContext)(d._);return(0,l.useInsertionEffect)(()=>{let{width:e,height:s,top:a,left:l,right:d}=c.current;if(t||!n.current||!e||!s)return;n.current.dataset.motionPopId=r;let h=document.createElement("style");return o&&(h.nonce=o),document.head.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(s,"px !important;\n            ").concat("left"===i?"left: ".concat(l):"right: ".concat(d),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.contains(h)&&document.head.removeChild(h)}},[t]),(0,a.jsx)(h,{isPresent:t,childRef:n,sizeRef:c,children:l.cloneElement(s,{ref:n})})}let u=e=>{let{children:s,initial:t,isPresent:i,onExitComplete:n,custom:o,presenceAffectsLayout:d,mode:h,anchorX:u}=e,f=(0,r.h)(x),p=(0,l.useId)(),j=!0,g=(0,l.useMemo)(()=>(j=!1,{id:p,initial:t,isPresent:i,custom:o,onExitComplete:e=>{for(let s of(f.set(e,!0),f.values()))if(!s)return;n&&n()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[i,f,n]);return d&&j&&(g={...g}),(0,l.useMemo)(()=>{f.forEach((e,s)=>f.set(s,!1))},[i]),l.useEffect(()=>{i||f.size||!n||n()},[i]),"popLayout"===h&&(s=(0,a.jsx)(m,{isPresent:i,anchorX:u,children:s})),(0,a.jsx)(c.O.Provider,{value:g,children:s})};function x(){return new Map}var f=t(9637);let p=e=>e.key||"";function j(e){let s=[];return l.Children.forEach(e,e=>{(0,l.isValidElement)(e)&&s.push(e)}),s}let g=e=>{let{children:s,custom:t,initial:c=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:h="sync",propagate:m=!1,anchorX:x="left"}=e,[g,b]=(0,f.oO)(m),N=(0,l.useMemo)(()=>j(s),[s]),v=m&&!g?[]:N.map(p),y=(0,l.useRef)(!0),w=(0,l.useRef)(N),k=(0,r.h)(()=>new Map),[C,S]=(0,l.useState)(N),[I,P]=(0,l.useState)(N);(0,n.L)(()=>{y.current=!1,w.current=N;for(let e=0;e<I.length;e++){let s=p(I[e]);v.includes(s)?k.delete(s):!0!==k.get(s)&&k.set(s,!1)}},[I,v.length,v.join("-")]);let E=[];if(N!==C){let e=[...N];for(let s=0;s<I.length;s++){let t=I[s],a=p(t);v.includes(a)||(e.splice(s,0,t),E.push(t))}return"wait"===h&&E.length&&(e=E),P(j(e)),S(N),null}let{forceRender:D}=(0,l.useContext)(i.p);return(0,a.jsx)(a.Fragment,{children:I.map(e=>{let s=p(e),l=(!m||!!g)&&(N===I||v.includes(s));return(0,a.jsx)(u,{isPresent:l,initial:(!y.current||!!c)&&void 0,custom:t,presenceAffectsLayout:d,mode:h,onExitComplete:l?void 0:()=>{if(!k.has(s))return;k.set(s,!0);let e=!0;k.forEach(s=>{s||(e=!1)}),e&&(null==D||D(),P(w.current),m&&(null==b||b()),o&&o())},anchorX:x,children:e},s)})})}}},function(e){e.O(0,[648,368,971,117,744],function(){return e(e.s=6876)}),_N_E=e.O()}]);