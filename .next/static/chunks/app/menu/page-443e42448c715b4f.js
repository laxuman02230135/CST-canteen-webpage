(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{6989:function(e,i,t){Promise.resolve().then(t.bind(t,3890))},3890:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return l}});var s=t(7437),r=t(2265),a=t(6225),n=t.n(a),c=t(9089);function l(){let[e,i]=(0,r.useState)("main-meals"),[t,a]=(0,r.useState)([]),[l,o]=(0,r.useState)(0),[d,m]=(0,r.useState)({name:"",email:"",phone:"",pickupTime:"",specialInstructions:""}),[h,u]=(0,r.useState)({}),[p,x]=(0,r.useState)(null),[j,f]=(0,r.useState)({}),[g,v]=(0,r.useState)([]),[b,y]=(0,r.useState)(!1),[N,w]=(0,r.useState)([]),[k,O]=(0,r.useState)(!0),S=[{id:"fixed-1",title:"Ema Datshi",description:"Traditional Bhutanese chili and cheese stew served with red rice",price:"Nu. 120.00",image:"https://bhutan-kitchen.com/wp-content/uploads/2024/08/Green-Chilli-Ema-Datshi-menu-item.png",category:"main-meals",isFixed:!0},{id:"fixed-2",title:"Shakam Datshi",description:"Dried beef cooked with cheese and chili",price:"Nu. 150.00",image:"https://media.sublimetrails.com/uploads/media/blog/bhutan-cuisine/shakam-shukam-datsi.png",category:"main-meals",isFixed:!0},{id:"fixed-3",title:"Kewa Datshi",description:"Potato cooked with cheese and chili",price:"Nu. 100.00",image:"https://bhutan-kitchen.com/wp-content/uploads/2024/08/Kewa-Datshi-menu-item-Bhutan-Kitchen-400x.png",category:"main-meals",isFixed:!0},{id:"fixed-4",title:"Vegetable Fried Rice",description:"Stir-fried rice with mixed vegetables and egg",price:"Nu. 110.00",image:"https://img.taste.com.au/uMAyK77R/taste/2024/08/quick-mongolian-beef-fried-rice-in-bowl-201667-1.jpg",category:"main-meals",isFixed:!0},{id:"fixed-5",title:"Cheese Sandwich",description:"Toasted bread with cheese and vegetables",price:"Nu. 80.00",image:"https://images.immediate.co.uk/production/volatile/sites/30/2024/04/HamSandwich-0d4e4ff.jpg",category:"quick-bites",isFixed:!0},{id:"fixed-6",title:"Chicken Momo",description:"Steamed dumplings filled with spiced chicken and vegetables",price:"Nu. 90.00",image:"https://img.taste.com.au/mdKxKxoR/taste/2016/11/chicken-momos-with-tomato-achar-46671-1.jpeg",category:"quick-bites",isFixed:!0},{id:"fixed-7",title:"Vegetable Spring Roll",description:"Crispy rolls filled with mixed vegetables and noodles",price:"Nu. 70.00",image:"https://www.indianhealthyrecipes.com/wp-content/uploads/2022/04/spring-rolls-with-vegetables.jpg",category:"quick-bites",isFixed:!0},{id:"fixed-8",title:"French Fries",description:"Crispy golden fries served with ketchup",price:"Nu. 60.00",image:"https://thecozycook.com/wp-content/uploads/2020/02/Copycat-McDonalds-French-Fries-.jpg",category:"quick-bites",isFixed:!0},{id:"fixed-9",title:"Suja (Butter Tea)",description:"Traditional Bhutanese salted butter tea",price:"Nu. 40.00",image:"https://blessmyfoodbypayal.com/wp-content/uploads/2024/12/IMG_6800.png",category:"beverages",isFixed:!0},{id:"fixed-10",title:"Milk Tea",description:"Traditional Bhutanese milk tea",price:"Nu. 40.00",image:"https://raw.githubusercontent.com/hdpngworld/HPW/main/uploads/65223a8acc063-Milk%20Tea%20Cup%20Top%20View.png",category:"beverages",isFixed:!0},{id:"fixed-11",title:"Lemonade",description:"Fresh squeezed lemonade with mint",price:"Nu. 50.00",image:"https://lh5.googleusercontent.com/proxy/QoPEGQzZ-HE73ZZGxnWwgKzJW6TL5Xpod2xUY3g9MbrOmWYuyeJ4UVIZq7mqpDTa676wJS7AVzLwshWnJXadVd2xnzlQGvMUjcbvscXpH30",category:"beverages",isFixed:!0},{id:"fixed-12",title:"Fresh Juice",description:"Seasonal fresh fruit juice",price:"Nu. 60.00",image:"https://www.vegrecipesofindia.com/wp-content/uploads/2021/07/fruit-juice-recipe-1.jpg",category:"beverages",isFixed:!0}];(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/menu-items");if(!e.ok)throw Error("Failed to fetch menu items");let i=await e.json();w([...S,...i])}catch(e){console.error("Error fetching menu items:",e),x({type:"error",message:"Failed to load menu items"}),w(S)}finally{O(!1)}})()},[]),(0,r.useEffect)(()=>{let e=localStorage.getItem("orderItems");if(e){let i=JSON.parse(e);a(i),C(i),u(i.reduce((e,i)=>({...e,[i.title]:!0}),{}))}},[]),(0,r.useEffect)(()=>{v((JSON.parse(localStorage.getItem("orderItems"))||[]).map((e,i)=>({id:i,name:e.title,price:parseFloat(String(e.price).replace("Nu. ",""))||0,image:e.image,quantity:1,description:e.description})))},[b]);let C=e=>{o(e.reduce((e,i)=>e+(parseFloat(String(i.price).replace("Nu. ",""))||0),0))},F=e=>{let i=[...t,e];a(i),C(i),u(i=>({...i,[e.title]:!0})),f(i=>({...i,[e.title]:"".concat(e.title," added to cart!")})),setTimeout(()=>{f(i=>({...i,[e.title]:null}))},2e3),localStorage.setItem("orderItems",JSON.stringify(i))},P=e=>{let i=g.filter(i=>i.id!==e),t=i.map(e=>({title:e.name,price:"Nu. ".concat(e.price),image:e.image,description:e.description}));v(i),a(t),localStorage.setItem("orderItems",JSON.stringify(t)),C(t),u(i=>{let t={...i},s=g.find(i=>i.id===e);return s&&delete t[s.name],t})},T=e=>{let{name:i,value:t}=e.target;m(e=>({...e,[i]:t}))},E=async e=>{if(e.preventDefault(),!d.name||!d.email||!d.phone||!d.pickupTime){x({message:"Please fill in all required fields.",type:"error"}),setTimeout(()=>x(null),2e3);return}if(0===t.length){x({message:"Please add at least one item to your order.",type:"error"}),setTimeout(()=>x(null),2e3);return}try{let e=await fetch("/api/menu",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...d,items:t,total:l})}),i=await e.json();if(!e.ok)throw Error(i.message||"Failed to submit order");x({message:"Order submitted successfully!",type:"success"}),setTimeout(()=>x(null),2e3),a([]),o(0),m({name:"",email:"",phone:"",pickupTime:"",specialInstructions:""}),u({}),f({}),v([]),localStorage.removeItem("orderItems")}catch(e){console.error("Order submission error:",e),x({message:"Failed to submit order: ".concat(e.message),type:"error"}),setTimeout(()=>x(null),2e3)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"CST Canteen"}),(0,s.jsx)("meta",{name:"description",content:"Order ahead and skip the lines"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"}),(0,s.jsx)("script",{src:"https://cdn.tailwindcss.com"})]}),(0,s.jsxs)("nav",{className:"navbar",children:[(0,s.jsx)("div",{className:"logo",children:(0,s.jsx)("img",{src:"https://st4.depositphotos.com/16061158/39264/v/450/depositphotos_392644810-stock-illustration-food-vector-icon-food-editable.jpg",alt:"CST Canteen Logo"})}),(0,s.jsxs)("ul",{className:"nav-links",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"/",children:"Home"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"/about",children:"About"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"/menu",children:"Menu"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"/contact",children:"Contact"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"/faq",children:"FAQ"})})]}),(0,s.jsx)("div",{className:"nav-icons",children:(0,s.jsxs)("form",{action:"http://www.google.com/search/",method:"post",id:"nav-form",children:[(0,s.jsx)("input",{type:"search",id:"searchBar",placeholder:"Search Here",name:"q"}),(0,s.jsx)("button",{id:"search-icon",children:(0,s.jsx)(c.U41,{})})]})}),(0,s.jsxs)("div",{className:"cart-toggle",onClick:()=>y(!0),children:[(0,s.jsx)("i",{className:"fas fa-shopping-cart"}),(0,s.jsx)("span",{className:"cart-count",children:g.length})]}),(0,s.jsx)("div",{className:"menu-icon",id:"menu-icon",children:(0,s.jsx)(c.Fm7,{})})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsxs)("div",{className:"header",children:[(0,s.jsx)("h1",{children:"CST Canteen"}),(0,s.jsx)("p",{children:"Order ahead and skip the lines"})]}),p&&(0,s.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 px-6 py-4 rounded-lg shadow-2xl text-white text-lg font-semibold animate-notification-pulse z-50 ".concat("success"===p.type?"bg-green-500 border-2 border-green-300":"bg-red-500 border-2 border-red-300"),children:p.message}),(0,s.jsxs)("div",{className:"main-content",children:[(0,s.jsxs)("div",{className:"menu-categories",children:[(0,s.jsx)("button",{className:"category-button ".concat("main-meals"===e?"active":""),onClick:()=>i("main-meals"),children:"\uD83C\uDF5A Main Meals"}),(0,s.jsx)("button",{className:"category-button ".concat("quick-bites"===e?"active":""),onClick:()=>i("quick-bites"),children:"\uD83E\uDD6A Quick Bites"}),(0,s.jsx)("button",{className:"category-button ".concat("beverages"===e?"active":""),onClick:()=>i("beverages"),children:"\uD83E\uDD64 Beverages"})]}),k?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),(0,s.jsx)("p",{className:"mt-4",children:"Loading menu items..."})]}):(0,s.jsx)("div",{className:"menu-items active",children:N.filter(i=>i.category===e).map(e=>(0,s.jsxs)("div",{className:"menu-item",children:[(0,s.jsx)("img",{src:e.image,alt:e.title}),(0,s.jsx)("h3",{children:e.title}),(0,s.jsx)("p",{children:e.description}),(0,s.jsx)("div",{className:"price",children:e.price}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"add-to-cart ".concat(h[e.title]?"bg-green-500":""),onClick:()=>F(e),children:h[e.title]?"Added":"Add to Order"}),j[e.title]&&(0,s.jsx)("div",{className:"absolute left-0 right-0 mt-2 bg-green-500 text-white text-center text-sm py-1 rounded animate-fade-in-out",children:j[e.title]})]})]},e.id))}),(0,s.jsx)("div",{className:"order-section",children:(0,s.jsxs)("div",{className:"order-form",children:[(0,s.jsx)("h2",{children:"Place Your Order"}),(0,s.jsxs)("form",{id:"orderForm",onSubmit:E,children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:d.name,onChange:T,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:d.email,onChange:T,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:T,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"pickup-time",children:"Pickup Time"}),(0,s.jsx)("input",{type:"time",id:"pickup-time",name:"pickupTime",value:d.pickupTime,onChange:T,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"special-instructions",children:"Special Instructions"}),(0,s.jsx)("textarea",{id:"special-instructions",name:"specialInstructions",rows:"3",value:d.specialInstructions,onChange:T})]}),(0,s.jsxs)("div",{className:"selected-items",id:"selected-items",children:[(0,s.jsx)("h3",{children:"Your Order:"}),(0,s.jsx)("ul",{id:"order-list",children:t.map((e,i)=>(0,s.jsxs)("li",{children:[e.title," - ",e.price]},i))}),(0,s.jsxs)("div",{id:"order-total",children:["Total: Nu. ",l]})]}),(0,s.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit Order"})]})]})})]})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"cart-overlay active",children:[(0,s.jsxs)("div",{className:"cart-header",children:[(0,s.jsx)("h3",{children:"Your Orders"}),(0,s.jsx)("div",{className:"cart-close",onClick:()=>y(!1),children:(0,s.jsx)("i",{className:"fas fa-times"})})]}),(0,s.jsx)("div",{className:"cart-items",children:g.map(e=>(0,s.jsxs)("div",{className:"cart-item",children:[(0,s.jsxs)("div",{className:"cart-item-details",children:[(0,s.jsx)("img",{src:e.image,alt:e.name}),(0,s.jsxs)("div",{className:"cart-item-info",children:[(0,s.jsx)("h4",{children:e.name}),(0,s.jsx)("p",{className:"cart-item-desc",children:e.description}),(0,s.jsxs)("div",{className:"cart-item-price",children:["Nu.",e.price," x ",e.quantity]})]})]}),(0,s.jsx)("button",{onClick:()=>P(e.id),children:"Remove"})]},e.id))}),(0,s.jsxs)("div",{className:"cart-total",children:[(0,s.jsxs)("div",{className:"total-amount",children:["Total: Nu.",(0,s.jsx)("span",{children:l})]}),(0,s.jsx)("a",{href:"#",className:"checkout-btn",children:"Checkout Now"})]})]}),(0,s.jsx)("div",{className:"overlay",onClick:()=>y(!1)})]}),(0,s.jsx)("div",{className:"overlay",id:"overlay"}),(0,s.jsxs)("div",{className:"footer",children:[(0,s.jsx)("div",{className:"footer-container",children:(0,s.jsxs)("div",{className:"footer-content",children:[(0,s.jsxs)("div",{className:"footer-column",children:[(0,s.jsx)("h3",{children:"Menu"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Breakfast"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Lunch"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Dinner"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Snacks"})})]})]}),(0,s.jsxs)("div",{className:"footer-column",children:[(0,s.jsx)("h3",{children:"Categories"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Bhutanese"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Fast Food"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Beverages"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Weekly Specials"})})]})]}),(0,s.jsxs)("div",{className:"footer-column",children:[(0,s.jsx)("h3",{children:"Information"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"About Us"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Contact Us"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Payment Options"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Track Order"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Support"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Meal Plans"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"#",children:"Nutritional Info"})})]})]}),(0,s.jsxs)("div",{className:"footer-column",children:[(0,s.jsx)("h3",{children:"Follow us"}),(0,s.jsxs)("div",{className:"social-icons",children:[(0,s.jsx)("a",{href:"#",className:"social-icon",children:(0,s.jsx)(c.Zf_,{})}),(0,s.jsx)("a",{href:"#",className:"social-icon",children:(0,s.jsx)(c.tBk,{})}),(0,s.jsx)("a",{href:"#",className:"social-icon",children:(0,s.jsx)(c.V2E,{})})]})]})]})}),(0,s.jsx)("div",{className:"footer-bottom",children:(0,s.jsxs)("div",{className:"footer-bottom-links",children:[(0,s.jsx)("a",{href:"#",children:"Data settings"}),(0,s.jsx)("a",{href:"#",children:"Cookie settings"}),(0,s.jsx)("a",{href:"#",children:"Privacy Policy"}),(0,s.jsx)("a",{href:"#",children:"Terms And Conditions"}),(0,s.jsx)("a",{href:"#",children:"Imprint"})]})})]})]})}},6225:function(e,i){"use strict";function t(){return null}Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"default",{enumerable:!0,get:function(){return t}}),("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),e.exports=i.default)},6231:function(e,i,t){"use strict";t.d(i,{w_:function(){return d}});var s=t(2265),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(r),n=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}function l(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,s)}return t}function o(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?l(Object(t),!0).forEach(function(i){var s,r;s=i,r=t[i],(s=function(e){var i=function(e,i){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var s=t.call(e,i||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(e,"string");return"symbol"==typeof i?i:i+""}(s))in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function d(e){return i=>s.createElement(m,c({attr:o({},e.attr)},i),function e(i){return i&&i.map((i,t)=>s.createElement(i.tag,o({key:t},i.attr),e(i.child)))}(e.child))}function m(e){var i=i=>{var t,{attr:r,size:a,title:l}=e,d=function(e,i){if(null==e)return{};var t,s,r=function(e,i){if(null==e)return{};var t={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(i.indexOf(s)>=0)continue;t[s]=e[s]}return t}(e,i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)t=a[s],!(i.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}(e,n),m=a||i.size||"1em";return i.className&&(t=i.className),e.className&&(t=(t?t+" ":"")+e.className),s.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,d,{className:t,style:o(o({color:e.color||i.color},i.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&s.createElement("title",null,l),e.children)};return void 0!==a?s.createElement(a.Consumer,null,e=>i(e)):i(r)}}},function(e){e.O(0,[699,971,117,744],function(){return e(e.s=6989)}),_N_E=e.O()}]);